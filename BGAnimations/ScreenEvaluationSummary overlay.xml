<ActorFrame><children>
    <Layer
        File="@ThemeFile('Common fallback banner')"
        OnCommand="%function(self)
        self:x(SCREEN_CENTER_X)
        self:y(SCREEN_CENTER_Y-140)
        end"
        />
	<Layer
        Font="_sg stroke"
        Text="0"
        Condition="not GAMESTATE:IsCourseMode()"
        InitCommand="x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y-170;zoom,0.5;draworder,90;diffusetopedge,0,0.5,1,1"
        OnCommand="%function(self)
        if GAMESTATE:StageIndex() == 1 then
            self:settext( GAMESTATE:StageIndex().. ' Stage Total' )
        elseif GAMESTATE:StageIndex() > 1 then
            self:settext( GAMESTATE:StageIndex().. ' Stages Total' )
        else
            self:settext('No Data Found')
        end
        end"
        />

	<Layer
		Font="_sg stroke"
		Text="0"
		InitCommand="x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y+140;zoom,0.5"
		OnCommand="%function(self)
			self:settext( 'TOTAL' )
		end"
		/>
	<Layer
		Font="_sg stroke"
		Text="0"
		InitCommand="x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y+160;zoom,0.5"
		OnCommand="%function(self)
			self:settext( 'PERCENTAGE' )
		end"
		/>


        <!-- Scores P1 -->
        <!-- Marvelous -->
        <Layer Font="_score" Text="0"
        InitCommand="diffuse,68/255,187/255,238/255,1;horizalign,right;draworder,90;sleep,0.01;queuecommand,ShowScore"
        ShowScoreCommand="%function(self)
        -- position
        self:x( SCREEN_CENTER_X-70 )
        self:shadowlength(0)
        self:y( SCREEN_CENTER_Y-66 )
        --
        if GAMESTATE:IsPlayerEnabled(PLAYER_1) then
            self:settext( string.format('% 5d',GetPSStats(PLAYER_1):GetTapNoteScores(8)) )
            self:zoom(0)
            self:sleep(0.2)
            self:bounceend(0.4)
            self:zoom(0.6)
        else
            self:settext('     ')
            self:zoom(0.6)
        end
        end"
        />

        <!-- Perfect -->
        <Layer Font="_score" Text="0"
        InitCommand="diffuse,68/255,187/255,238/255,1;horizalign,right;draworder,90;sleep,0.01;queuecommand,ShowScore"
        ShowScoreCommand="%function(self)
        -- position
        self:x( SCREEN_CENTER_X-70 )
        self:shadowlength(0)
        self:y( SCREEN_CENTER_Y-40 )
        --
        if GAMESTATE:IsPlayerEnabled(PLAYER_1) then
            self:settext( string.format('% 5d',GetPSStats(PLAYER_1):GetTapNoteScores(7)) )
            self:zoom(0)
            self:sleep(0.2*2)
            self:bounceend(0.4)
            self:zoom(0.6)
        else
            self:settext('     ')
            self:zoom(0.6)
        end
        end"
        />

        <!-- Great -->
        <Layer Font="_score" Text="0"
        InitCommand="diffuse,68/255,187/255,238/255,1;horizalign,right;draworder,90;sleep,0.01;queuecommand,ShowScore"
        ShowScoreCommand="%function(self)
        -- position
        self:x( SCREEN_CENTER_X-70 )
        self:shadowlength(0)
        self:y( SCREEN_CENTER_Y-13 )
        --
        if GAMESTATE:IsPlayerEnabled(PLAYER_1) then
            self:settext( string.format('% 5d',GetPSStats(PLAYER_1):GetTapNoteScores(6)) )
            self:zoom(0)
            self:sleep(0.2*3)
            self:bounceend(0.4)
            self:zoom(0.6)
        else
            self:settext( string.format('% 5d','150') )
            self:zoom(0.6)
        end
        end"
        />

        <!-- Good -->
        <Layer Font="_score" Text="0"
        InitCommand="diffuse,68/255,187/255,238/255,1;horizalign,right;draworder,90;sleep,0.01;queuecommand,ShowScore"
        ShowScoreCommand="%function(self)
        -- position
        self:x( SCREEN_CENTER_X-70 )
        self:shadowlength(0)
        self:y( SCREEN_CENTER_Y+14 )
        --
        if GAMESTATE:IsPlayerEnabled(PLAYER_1) then
            self:settext( string.format('% 5d',GetPSStats(PLAYER_1):GetTapNoteScores(5)) )
            self:zoom(0)
            self:sleep(0.2*4)
            self:bounceend(0.4)
            self:zoom(0.6)
        else
            self:settext('     ')
            self:zoom(0.6)
        end
        end"
        />

        <!-- Boo -->
        <Layer Font="_score" Text="0"
        InitCommand="diffuse,68/255,187/255,238/255,1;horizalign,right;draworder,90;sleep,0.01;queuecommand,ShowScore"
        ShowScoreCommand="%function(self)
        -- position
        self:x( SCREEN_CENTER_X-70 )
        self:shadowlength(0)
        self:y( SCREEN_CENTER_Y+41 )
        --
        if GAMESTATE:IsPlayerEnabled(PLAYER_1) then
            self:settext( string.format('% 5d',GetPSStats(PLAYER_1):GetTapNoteScores(4)) )
            self:zoom(0)
            self:sleep(0.2*5)
            self:bounceend(0.4)
            self:zoom(0.6)
        else
            self:settext('     ')
            self:zoom(0.6)
        end
        end"
        />

        <!-- Miss -->
        <Layer Font="_score" Text="0"
        InitCommand="diffuse,68/255,187/255,238/255,1;horizalign,right;draworder,90;sleep,0.01;queuecommand,ShowScore"
        ShowScoreCommand="%function(self)
        -- position
        self:x( SCREEN_CENTER_X-70 )
        self:shadowlength(0)
        self:y( SCREEN_CENTER_Y+68 )
        --
        if GAMESTATE:IsPlayerEnabled(PLAYER_1) then
            self:settext( string.format('% 5d',GetPSStats(PLAYER_1):GetTapNoteScores(3)) )
            self:zoom(0)
            self:sleep(0.2*6)
            self:bounceend(0.4)
            self:zoom(0.6)
        else
            self:settext('     ')
            self:zoom(0.6)
        end
        end"
        />




	<Layer
		Font="_score"
		Text="0"
		InitCommand="diffuse,68/255,187/255,238/255,1;x,SCREEN_CENTER_X-60;y,SCREEN_CENTER_Y+140;zoom,1;horizalign,right;draworder,90;sleep,0.1;queuecommand,ShowScore"
		ScoreChangedP1MessageCommand="%function(self)
			self:settext( GetTotalScore(PLAYER_1) )
		end"
		ShowScoreCommand="%function(self)
        if GAMESTATE:IsPlayerEnabled(PLAYER_1) then
			self:settext( GetTotalScore(PLAYER_1) )
			self:zoom(0)
			self:sleep(0.2*7)
			self:bounceend(0.4)
			self:zoom(1)
        else
            self:settext('        ')
        end
		end"
		/>

	<Layer
		Font="_gpscore P1"
		Text=" 0.00%"
		InitCommand="x,SCREEN_CENTER_X-60;y,SCREEN_CENTER_Y+160;zoom,1;horizalign,right;draworder,90;sleep,0.1;"
		Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
		OnCommand="%function(self)
		local Pr = PROFILEMAN:GetMachineProfile():GetSaved()
			if FUCK_EXE and STATSMAN:GetAccumStageStats() then
				if GAMESTATE:IsPlayerEnabled(PLAYER_1) then
					local poss = STATSMAN:GetAccumStageStats():GetPlayerStageStats(PLAYER_1):GetPossibleDancePoints()
					local act = STATSMAN:GetAccumStageStats():GetPlayerStageStats(PLAYER_1):GetActualDancePoints()
					self:settext(FormatPercentScore(act/poss))
				end
			end
		self:queuecommand('ShowScore')
		end"
			ShowScoreCommand="%function(self)
			self:zoom(0)
			self:sleep(0.2*7)
			self:bounceend(0.4)
			self:zoom(1)
		end"
		/>




        <!-- Scores P2 -->
        <!-- Marvelous -->
        <Layer Font="_score" Text="0" Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
        InitCommand="diffuse,238/255,221/255,0,1;horizalign,left;draworder,90;sleep,0.01;queuecommand,ShowScore"
        ShowScoreCommand="%function(self)
        -- position
        self:x( SCREEN_CENTER_X+70 )
        self:shadowlength(0)
        self:y( SCREEN_CENTER_Y-66 )
        --
            self:settext( GetPSStats(PLAYER_2):GetTapNoteScores(8) )
            self:zoom(0)
            self:sleep(0.2)
            self:bounceend(0.4)
            self:zoom(0.6)
        end"
        />

        <!-- Perfect -->
        <Layer Font="_score" Text="0" Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
        InitCommand="diffuse,238/255,221/255,0,1;horizalign,left;draworder,90;sleep,0.01;queuecommand,ShowScore"
        ShowScoreCommand="%function(self)
        -- position
        self:x( SCREEN_CENTER_X+70 )
        self:shadowlength(0)
        self:y( SCREEN_CENTER_Y-40 )
        --
            self:settext( GetPSStats(PLAYER_2):GetTapNoteScores(7) )
            self:zoom(0)
            self:sleep(0.2*2)
            self:bounceend(0.4)
            self:zoom(0.6)
        end"
        />

        <!-- Great -->
        <Layer Font="_score" Text="0" Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
        InitCommand="diffuse,238/255,221/255,0,1;horizalign,left;draworder,90;sleep,0.01;queuecommand,ShowScore"
        ShowScoreCommand="%function(self)
        -- position
        self:x( SCREEN_CENTER_X+70 )
        self:shadowlength(0)
        self:y( SCREEN_CENTER_Y-13 )
        --
            self:settext( GetPSStats(PLAYER_2):GetTapNoteScores(6) )
            self:zoom(0)
            self:sleep(0.2*3)
            self:bounceend(0.4)
            self:zoom(0.6)
        end"
        />

        <!-- Good -->
        <Layer Font="_score" Text="0" Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
        InitCommand="diffuse,238/255,221/255,0,1;horizalign,left;draworder,90;sleep,0.01;queuecommand,ShowScore"
        ShowScoreCommand="%function(self)
        -- position
        self:x( SCREEN_CENTER_X+70 )
        self:shadowlength(0)
        self:y( SCREEN_CENTER_Y+14 )
        --
            self:settext( GetPSStats(PLAYER_2):GetTapNoteScores(5) )
            self:zoom(0)
            self:sleep(0.2*4)
            self:bounceend(0.4)
            self:zoom(0.6)
        end"
        />

        <!-- Boo -->
        <Layer Font="_score" Text="0" Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
        InitCommand="diffuse,238/255,221/255,0,1;horizalign,left;draworder,90;sleep,0.01;queuecommand,ShowScore"
        ShowScoreCommand="%function(self)
        -- position
        self:x( SCREEN_CENTER_X+70 )
        self:shadowlength(0)
        self:y( SCREEN_CENTER_Y+41 )
        --
            self:settext( GetPSStats(PLAYER_2):GetTapNoteScores(4) )
            self:zoom(0)
            self:sleep(0.2*5)
            self:bounceend(0.4)
            self:zoom(0.6)
        end"
        />

        <!-- Miss -->
        <Layer Font="_score" Text="0" Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
        InitCommand="diffuse,238/255,221/255,0,1;horizalign,left;draworder,90;sleep,0.01;queuecommand,ShowScore"
        ShowScoreCommand="%function(self)
        -- position
        self:x( SCREEN_CENTER_X+70 )
        self:shadowlength(0)
        self:y( SCREEN_CENTER_Y+68 )
        --
            self:settext( GetPSStats(PLAYER_2):GetTapNoteScores(3) )
            self:zoom(0)
            self:sleep(0.2*6)
            self:bounceend(0.4)
            self:zoom(0.6)
        end"
        />


	<Layer
		Font="_score"
		Text="0"
		Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
		InitCommand="diffuse,238/255,221/255,0,1;x,SCREEN_CENTER_X+60;y,SCREEN_CENTER_Y+140;zoom,1;horizalign,left;draworder,90;sleep,0.1;queuecommand,ShowScore"
		ScoreChangedP1MessageCommand="%function(self)
			self:settext( GetTotalScore(PLAYER_2) )
		end"
		ShowScoreCommand="%function(self)
			self:settext( GetTotalScore(PLAYER_2) )
			self:zoom(0)
			self:sleep(0.2*7)
			self:bounceend(0.4)
			self:zoom(1)
		end"
		/>
	<Layer
		Font="_gpscore P2"
		Text=" 0.00%"
		InitCommand="x,SCREEN_CENTER_X+60;y,SCREEN_CENTER_Y+160;zoom,1;horizalign,left;draworder,90;sleep,0.1"
		Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
		OnCommand="%function(self)
		local Pr = PROFILEMAN:GetMachineProfile():GetSaved()
			if FUCK_EXE and STATSMAN:GetAccumStageStats() then
				if GAMESTATE:IsPlayerEnabled(PLAYER_2) then
					local poss = STATSMAN:GetAccumStageStats():GetPlayerStageStats(PLAYER_2):GetPossibleDancePoints()
					local act = STATSMAN:GetAccumStageStats():GetPlayerStageStats(PLAYER_2):GetActualDancePoints()
					self:settext(FormatPercentScore(act/poss))
				end
			end
		self:queuecommand('ShowScore')
		end"
			ShowScoreCommand="%function(self)
			self:zoom(0)
			self:sleep(0.2*7)
			self:bounceend(0.4)
			self:zoom(1)
		end"
		/>

        <!-- ""Profile"" Picture and ""Game Periferal"" for P1-->
        <Layer
            Type="Quad"
            Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
            OnCommand="x,SCREEN_CENTER_X-285;y,SCREEN_CENTER_Y+210;zoomto,52,52,0,0;shadowlength,1"
            />
        <Layer
            Type="Quad"
            Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
            OnCommand="x,SCREEN_CENTER_X-285;y,SCREEN_CENTER_Y+210;zoomto,48,48,0,0;shadowlength,1;diffuse,0,0,0,1"
            />
           <Layer
		File="@ThemeFile('ProfileIcon/userP1')"
		Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X-285)
		self:y(SCREEN_CENTER_Y+210)
		self:zoomto(50,50,0,0);
		end"
		/>
        <Layer
            Font="_sui generis"
            Text=" "
            Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
            OnCommand="x,SCREEN_CENTER_X-250;y,SCREEN_CENTER_Y+230;zoom,0.5;horizalign,left;diffuse,#7f7f7f;shadowlength,1;sleep,0.01;queuecommand,Update"
            CurrentSongChangedMessageCommand="sleep,0.01;queuecommand,Update"
            UpdateCommand="%function(self)
            self:settext('Keyboard')
            end"
            />

           <!-- ""Profile"" Picture and ""Game Periferal"" for P2-->
        <Layer
            Type="Quad"
            Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
            OnCommand="x,SCREEN_CENTER_X+285;y,SCREEN_CENTER_Y+210;zoomto,52,52,0,0;shadowlength,1"
            />
           <Layer
            Type="Quad"
            Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
            OnCommand="x,SCREEN_CENTER_X+285;y,SCREEN_CENTER_Y+210;zoomto,48,48,0,0;shadowlength,1;diffuse,0,0,0,1"
            />
           <Layer
		File="@ThemeFile('ProfileIcon/userP2')"
		Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
		OnCommand="%function(self)
		self:x(SCREEN_CENTER_X+285)
		self:y(SCREEN_CENTER_Y+210)
		self:zoomto(50,50,0,0);
		end"
		/>
        <Layer
            Font="_sui generis"
            Text=" "
            Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
            OnCommand="x,SCREEN_CENTER_X+250;y,SCREEN_CENTER_Y+230;zoom,0.5;horizalign,right;diffuse,#7f7f7f;shadowlength,1;sleep,0.01;queuecommand,Update"
            CurrentSongChangedMessageCommand="sleep,0.01;queuecommand,Update"
            UpdateCommand="%function(self)
            self:settext('Keyboard')
            end"
            />
</children></ActorFrame>